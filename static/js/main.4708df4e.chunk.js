(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n(0),r=n(10),c=n.n(r),s=(n(17),n(3)),i=n(4),l=n(6),u=n(5),d=(n(18),n(9),n(7)),h=n.n(d),p=n(11),g=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={keyWord:""},e.hendleInputChanga=function(t){e.setState({keyWord:t.currentTarget.value})},e.onSubmitSearchForm=function(t){t.preventDefault(),e.props.onSubHand(e.state.keyWord),e.setState({keyWord:""})},e}return Object(i.a)(n,[{key:"render",value:function(){return Object(a.jsx)("header",{className:"Searchbar",children:Object(a.jsxs)("form",{className:"SearchForm",onSubmit:this.onSubmitSearchForm,children:[Object(a.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(a.jsx)("span",{className:"SearchForm-button-label",children:Object(a.jsx)(p.a,{})})}),Object(a.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.keyWord,onChange:this.hendleInputChanga})]})})}}]),n}(o.Component),b=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).onClickImg=function(t){e.props.onSubId(t.currentTarget.dataset.id)},e}return Object(i.a)(n,[{key:"render",value:function(){return Object(a.jsx)("li",{className:"ImageGalleryItem",children:Object(a.jsx)("img",{src:this.props.urlImage,alt:this.props.altImage,"data-id":this.props.idImage,className:"ImageGalleryItem-image",onClick:this.onClickImg})})}}]),n}(o.Component),m=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).onSubIdHend=function(t){e.props.onSubIdHends(t)},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)("ul",{className:"ImageGallery",children:this.props.gallery.map((function(t){return Object(a.jsx)(b,{onSubId:e.onSubIdHend,urlImage:t.webformatURL,altImage:t.tags,urlLargeImage:t.largeImageURL,idImage:t.id},t.id)}))})}}]),n}(o.Component),j=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={page:2},e.onLoadMore=function(t){e.setState((function(e){return{page:e.page+1}})),e.props.onSubPageNum(e.state.page)},e}return Object(i.a)(n,[{key:"render",value:function(){return Object(a.jsx)("button",{type:"button",onClick:this.onLoadMore,className:"Button",children:"Load more"})}}]),n}(n(0).Component),f=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={key:"18956584-3ac01e2418e4c39c7eb5dacd9",imgUrl:"",visible:!0},e.handlerKeyDown=function(t){"Escape"===t.code&&e.props.onCloseHend()},e.onClose=function(t){t.currentTarget===t.target&&e.props.onCloseHend()},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("keydown",this.handlerKeyDown),fetch("https://pixabay.com/api/?id=".concat(this.props.imgId,"&key=").concat(this.state.key)).then((function(e){return e.json()})).then((function(t){var n=t.hits;e.setState({imgUrl:n[0].largeImageURL})})).finally((function(){return e.setState({visible:!1})}))}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handlerKeyDown)}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"Overlay",onClick:this.onClose,children:Object(a.jsxs)("div",{className:"Modal",children:[this.state.visible&&Object(a.jsx)(h.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100}),Object(a.jsx)("img",{src:this.state.imgUrl,alt:""})]})})}}]),n}(o.Component),y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={keyWord:"",page:1,key:"18956584-3ac01e2418e4c39c7eb5dacd9",images:[],loader:!1,showModal:!1,buttonVisible:!1,imgIdModal:"",newPageCords:0},e.toggleLoader=function(){e.setState((function(e){return{loader:!e.loader}}))},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.onSubHandApp=function(t){e.setState({keyWord:t,page:1,images:[]})},e.onSubPageNumApp=function(t){var n=document.documentElement.scrollHeight-170;e.setState({page:t,newPageCords:n})},e.onSubIdHendApp=function(t){e.toggleModal(),e.setState({imgIdModal:t})},e.scrollToNextPage=function(){var t=e.state.newPageCords;window.scrollTo({top:t,behavior:"smooth"})},e}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this;t.keyWord===this.state.keyWord&&t.page===this.state.page||(this.toggleLoader(),fetch("https://pixabay.com/api/?q=".concat(this.state.keyWord,"&page=").concat(this.state.page,"&key=").concat(this.state.key,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){var t=e.hits;n.setState((function(e){return{images:e.images.concat(t)}})),0!==n.state.images.length&&n.setState({buttonVisible:!0})})).finally((function(){return n.toggleLoader()}))),this.scrollToNextPage()}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"main-conteiner",children:[Object(a.jsx)(g,{onSubHand:this.onSubHandApp}),Object(a.jsx)(m,{gallery:this.state.images,onSubIdHends:this.onSubIdHendApp}),this.state.loader&&Object(a.jsx)(h.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100}),this.state.buttonVisible&&Object(a.jsx)(j,{onSubPageNum:this.onSubPageNumApp}),this.state.showModal&&Object(a.jsx)(f,{onCloseHend:this.toggleModal,imgId:this.state.imgIdModal})]})}}]),n}(o.Component);c.a.render(Object(a.jsx)(y,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.4708df4e.chunk.js.map