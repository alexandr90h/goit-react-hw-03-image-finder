{"version":3,"sources":["Searchbar/Searchbar.jsx","ImageGalleryItem/ImageGalleryItem.jsx","ImageGallery/ImageGallery.jsx","Button/Button.jsx","Modal/Modal.jsx","App.js","index.js"],"names":["Searchbar","state","keyWord","hendleInputChanga","e","setState","currentTarget","value","onSubmitSearchForm","preventDefault","props","onSubHand","className","onSubmit","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","onClickImg","onSubId","dataset","id","src","urlImage","alt","altImage","data-id","idImage","onClick","ImageGallery","onSubIdHend","data","onSubIdHends","gallery","map","obj","webformatURL","tags","urlLargeImage","largeImageURL","Button","page","onLoadMore","prev","onSubPageNum","require","Modal","key","imgUrl","visible","handlerKeyDown","code","onCloseHend","onClose","target","window","addEventListener","fetch","imgId","then","res","json","hits","finally","removeEventListener","color","height","width","App","images","loader","showModal","buttonVisible","imgIdModal","newPageCords","toggleLoader","toggleModal","onSubHandApp","onSubPageNumApp","cords","document","documentElement","scrollHeight","onSubIdHendApp","scrollToNextPage","scrollTo","top","behavior","prevProps","prevState","concat","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.4708df4e.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { BiSearch } from \"react-icons/bi\";\r\n\r\nclass Searchbar extends Component{\r\n    state={\r\n            keyWord: '',\r\n\r\n    }\r\n    hendleInputChanga = e => {\r\n        this.setState({ keyWord: e.currentTarget.value })\r\n    }\r\n    onSubmitSearchForm = e => {\r\n        e.preventDefault();\r\n        this.props.onSubHand(this.state.keyWord);\r\n        this.setState({keyWord:''})\r\n    }\r\n    render() {\r\n        return(<header className=\"Searchbar\">\r\n  <form className=\"SearchForm\" onSubmit={this.onSubmitSearchForm}>\r\n    <button type=\"submit\" className=\"SearchForm-button\">\r\n      <span className=\"SearchForm-button-label\"><BiSearch/></span>\r\n    </button>\r\n                <input\r\n                    className=\"SearchForm-input\"\r\n                    type=\"text\"\r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                    value={this.state.keyWord}\r\n                    onChange={this.hendleInputChanga}\r\n    />\r\n  </form>\r\n</header>)\r\n    }\r\n}\r\nexport default Searchbar;","import { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nclass ImageGalleryItem extends Component{\r\n  onClickImg = e => {\r\n    // console.log(e.currentTarget.dataset.url);\r\n    this.props.onSubId(e.currentTarget.dataset.id)\r\n  }\r\n  render() {\r\n    return (\r\n      <li className=\"ImageGalleryItem\" >\r\n        <img\r\n          src={this.props.urlImage}\r\n          alt={this.props.altImage}\r\n          data-id={this.props.idImage}\r\n          className=\"ImageGalleryItem-image\"\r\n          onClick={this.onClickImg}\r\n        />\r\n      </li>)\r\n  }\r\n}\r\nImageGalleryItem.propTypes = {\r\n  urlImage: PropTypes.string,\r\n  altImage: PropTypes.string,\r\n  idImage:PropTypes.number,\r\n}\r\nexport default ImageGalleryItem;\r\n","import { Component } from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nclass ImageGallery extends Component{\r\n    onSubIdHend = data => {\r\n    this.props.onSubIdHends(data);\r\n}\r\n    render() {\r\n        return (\r\n            <ul className=\"ImageGallery\" >\r\n                {this.props.gallery.map(obj => {\r\n                    return (<ImageGalleryItem onSubId={this.onSubIdHend} urlImage={obj.webformatURL} altImage={obj.tags} urlLargeImage={obj.largeImageURL} idImage={obj.id} key={obj.id}/>);\r\n                })}\r\n            </ul>)\r\n    }\r\n}\r\nexport default ImageGallery;","const { Component } = require(\"react\");\r\n\r\nclass Button extends Component {\r\n    state = {\r\n        page: 2,\r\n    }\r\n    onLoadMore = e => {\r\n        this.setState(prev => ({ page: prev.page + 1 }));\r\n        this.props.onSubPageNum(this.state.page);\r\n    }\r\n    render() {\r\n        return(<button type=\"button\" onClick={this.onLoadMore} className=\"Button\">Load more</button>)\r\n    }\r\n}\r\nexport default Button;","import { Component } from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nclass Modal extends Component{\r\n    state = {\r\n        key: '18956584-3ac01e2418e4c39c7eb5dacd9',\r\n        imgUrl:'',\r\n        visible:true,\r\n    }\r\n    componentDidMount() {\r\n         window.addEventListener('keydown', this.handlerKeyDown);\r\n         fetch(`https://pixabay.com/api/?id=${this.props.imgId}&key=${this.state.key}`)\r\n            .then(res => res.json()).then(({hits})=>{this.setState({imgUrl:hits[0].largeImageURL})}).finally(()=>this.setState({visible:false}));\r\n  }\r\n    componentDidUpdate() { \r\n        \r\n    }\r\n             \r\n  componentWillUnmount() {\r\n      window.removeEventListener('keydown', this.handlerKeyDown);\r\n    }\r\n     handlerKeyDown = ({ code }) => {\r\n    if (code === 'Escape') {\r\n      this.props.onCloseHend()\r\n    }\r\n  };\r\n    onClose = e => {\r\n        if (e.currentTarget === e.target) {\r\n            this.props.onCloseHend()\r\n        }\r\n    }\r\n    render() {\r\n        return (<div className=\"Overlay\" onClick={this.onClose}>\r\n            <div className=\"Modal\">\r\n                {this.state.visible&&<Loader\r\n        type=\"ThreeDots\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n                    width={100}\r\n      />}\r\n                <img src={this.state.imgUrl} alt=\"\"/>\r\n            </div>\r\n        </div>)\r\n    }\r\n}\r\nModal.propTypes = {\r\n  imgUrl: PropTypes.string,\r\n  imgId: PropTypes.string,\r\n}\r\n\r\nexport default Modal;","import './App.scss';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport React, { Component } from 'react';\r\nimport Searchbar from './Searchbar/Searchbar.jsx';\r\nimport ImageGallery from './ImageGallery/ImageGallery.jsx';\r\nimport Button from './Button/Button';\r\nimport Modal from './Modal/Modal';\r\n\r\nclass App extends Component{\r\n  state = {\r\n    keyWord: '',\r\n    page: 1,\r\n    key: '18956584-3ac01e2418e4c39c7eb5dacd9',\r\n    images: [],\r\n    loader: false,\r\n    showModal: false,\r\n    buttonVisible: false,\r\n    imgIdModal: '',\r\n    newPageCords: 0,\r\n  }\r\n  toggleLoader = () => {\r\n    this.setState(prev => ({ loader: !prev.loader }));\r\n  }\r\n  toggleModal = () => {\r\n    this.setState(prev => ({ showModal: !prev.showModal }));\r\n  }\r\n  onSubHandApp = data => {\r\n    this.setState({ keyWord: data, page:1, images:[] })\r\n  }\r\n  onSubPageNumApp = data => {\r\n        const cords = document.documentElement.scrollHeight - 170;\r\n    this.setState({ page: data,newPageCords: cords })\r\n  }\r\n  onSubIdHendApp = data => {\r\n        this.toggleModal();\r\n    this.setState({ imgIdModal: data });\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.keyWord !== this.state.keyWord || prevState.page !== this.state.page) {\r\n      this.toggleLoader();\r\n      fetch(`https://pixabay.com/api/?q=${this.state.keyWord}&page=${this.state.page}&key=${this.state.key}&image_type=photo&orientation=horizontal&per_page=12`)\r\n        .then(res => res.json()).then(({ hits }) => { this.setState(prev => ({ images: prev.images.concat(hits) }));if (this.state.images.length!==0){this.setState({buttonVisible:true})}\r\n        }).finally(() => this.toggleLoader());\r\n    }\r\n        this.scrollToNextPage();\r\n  }\r\n  scrollToNextPage = () => {\r\n    const { newPageCords } = this.state;\r\n    window.scrollTo({\r\n      top: newPageCords,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n  render() {\r\n    return (<div className=\"main-conteiner\">\r\n      <Searchbar onSubHand={this.onSubHandApp} />\r\n      <ImageGallery gallery={this.state.images} onSubIdHends={ this.onSubIdHendApp}/>\r\n      {this.state.loader && <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n      />}\r\n      {this.state.buttonVisible && <Button onSubPageNum={this.onSubPageNumApp} />}\r\n      {this.state.showModal &&\r\n        <Modal\r\n        onCloseHend={this.toggleModal}\r\n        imgId={this.state.imgIdModal}/>}\r\n    </div>\r\n    );\r\n}\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />, document.getElementById('root')\n);"],"sourceRoot":""}